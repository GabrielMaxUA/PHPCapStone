<!-- Main Gallery Section -->
<div id="Main_Gallery" *ngIf="!isChildRouteActive">
  <div class="gallery_option">
    <div class="p-3 image-wrapper"><img [src]="nImageUrl" alt="" *ngIf="nImageUrl"></div>
    
    <div *ngIf="isUploading" class="loading-icon d-flex justify-content-center align-items-center">
      <app-loading-spinner></app-loading-spinner>
    </div>

    <div *ngIf="user?.type === 'admin'" class="filePick m-2">
      <input type="file" (change)="onFileSelected($event, 'n')" />
    </div>

    <a class="text-center p-3" routerLink="nature">Nature</a>

    <div class="nText" [innerHTML]="nText"></div>
    <textarea *ngIf="user?.type === 'admin'" class="text-center" [(ngModel)]="nText"></textarea>
  </div>

  <div class="gallery_option">
    <div class="p-3 image-wrapper"><img [src]="aImageUrl" alt="" *ngIf="aImageUrl"></div>

    <div *ngIf="isUploading" class="loading-icon d-flex justify-content-center align-items-center">
      <app-loading-spinner></app-loading-spinner>
    </div>

    <div *ngIf="user?.type === 'admin'" class="filePick m-2">
      <input type="file" (change)="onFileSelected($event, 'a')" />
    </div>

    <a class="text-center p-3" routerLink="architecture">Architecture</a>

    <div class="aText" [innerHTML]="aText"></div>
    <textarea *ngIf="user?.type === 'admin'" [(ngModel)]="aText"></textarea>
  </div>

  <!-- Staged Section -->
  <div class="gallery_option">
    <div class="p-3 image-wrapper"><img [src]="sImageUrl" alt="" *ngIf="sImageUrl"></div>
    <div *ngIf="isUploading" class="loading-icon d-flex justify-content-center align-items-center">
      <app-loading-spinner></app-loading-spinner>
    </div>
    <div *ngIf="user?.type === 'admin'" class="filePick m-2">
      <input type="file" (change)="onFileSelected($event, 's')" />
    </div>
    <a class="text-center p-3" (click)="handleLinkClick($event)">Staged</a>

    <div class="sText" [innerHTML]="sText"></div>
    <textarea *ngIf="user?.type === 'admin'" [(ngModel)]="sText"></textarea>
  </div>
</div>

<!-- Child Routes -->
<router-outlet></router-outlet>

<!-- Admin Submit Button -->
<div *ngIf="user?.type === 'admin' && !isChildRouteActive" class="text-center">
  <button class="submit-btn mt-5" (click)="submitAllChanges()">Submit All Changes</button>
</div>
